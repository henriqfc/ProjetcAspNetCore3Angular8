<div class="home-search">
  <custom-spinner name="{{spinner}}"></custom-spinner>
  <div class="align-middle text-center">
    <div class="row">
      <div class="col-sm-12 text-center">
        <h1>IMOBILIÁRIA TESTE</h1>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 text-center">
        <h3>PROCURANDO POR IMÓVEIS? AQUI É SEU LUGAR!</h3>
      </div>
    </div>
  </div>
  <div class="row">
    <!-- filtro -->
    <div class="col-sm-3">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Filtrar</h5>
          <div class="card-text">
            <div class="row">
              <div class="col-sm-12">
                <label>Tipo De Contrato</label>
                <ng-select name="TipoContrato" [items]="vm.TipoContrato" bindLabel="Text" bindValue="Value"
                  [(ngModel)]="vm.Parametros.TipoContrato" (change)="Buscar()">
                </ng-select>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <label>Tipo De Imóvel</label>
                <ng-select name="Tipo" [items]="vm.TipoLista" bindLabel="Text" bindValue="Value"
                  [(ngModel)]="vm.Parametros.Tipo" (change)="Buscar()">
                </ng-select>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <label>Endereço</label>
                <input type="text" name="Endereco" class="form-control input-sm" [(ngModel)]="vm.Parametros.Endereco"
                  (change)="Buscar()" />
              </div>
            </div>
            <div [hidden]="vm.Parametros.TipoContrato === 'A'" class="row">
              <div class="col-sm-12">
                <label>Preço de Venda</label>
                <ng-select name="PrecoComprar" [items]="vm.PrecosComprarLista" bindLabel="Text" bindValue="Value"
                  [(ngModel)]="vm.Parametros.PrecoComprar" (change)="Buscar()"></ng-select>
              </div>
            </div>
            <div [hidden]="vm.Parametros.TipoContrato === 'V'" class="row">
              <div class="col-sm-12">
                <label>Preço de Aluguel</label>
                <ng-select name="PrecoAlugar" [items]="vm.PrecosAlugarLista" bindLabel="Text" bindValue="Value"
                  [(ngModel)]="vm.Parametros.PrecoAlugar" (change)="Buscar()"></ng-select>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <label>Num. Quartos</label>
                <ng-select name="NumQuartos" [items]="vm.NumQuartosLista" bindLabel="Text" bindValue="Value"
                  [(ngModel)]="vm.Parametros.NumQuartos" (change)="Buscar()"></ng-select>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
    <!-- imoveis -->
    <div class="col-sm-9">
      <div class="card">
        <div class="card-body">
          <div class="card-text">
            <h5 [hidden]="vm.ImoveisEncontrados.length > 0">Nenhum Imóvel Encontrado</h5>
            <div class="row" [hidden]="vm.ImoveisEncontrados.length === 0">
              <div *ngFor="let item of vm.ImoveisEncontrados;" class="card col-sm-6 mb-1">
                <img class="card-img-top" [src]="baseUrl + item.imagens[0].path">
                <div class="card-body">
                  <div class="row mb-1">
                    <div class="col-sm-4">
                      <b>
                        <h5>{{ item.Tipo.nomeTipo }}</h5>
                      </b>
                    </div>
                    <div class="col-sm-4" [hidden]="!item.valorVenda">
                      <b>Venda: <h5>{{ item.valorVenda }}</h5></b>
                    </div>
                    <div class="col-sm-4">
                      <b>Aluguel: <h5>{{ item.valorAluguel }}</h5></b>
                    </div>
                  </div>
                  <div class="row mb-1">
                    <div class="col-sm-6">
                      <b>Cidade:</b> {{item.Endereco.cidade}} - {{item.Endereco.uf}}
                    </div>
                    <div class="col-sm-6">
                      <b>Bairro:</b> {{item.Endereco.bairro}}
                    </div>
                  </div>
                  <div class="row mb-1">
                    <div class="col-sm-12">
                      {{item.descricao}}
                    </div>
                  </div>
                  <div class="row float-right">
                    <div class="col-sm-12">
                      <a href="imovel/{{item.idImovel}}" class="btn btn-primary">Detalhes</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>